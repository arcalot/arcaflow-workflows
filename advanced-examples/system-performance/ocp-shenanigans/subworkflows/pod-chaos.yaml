version: v0.2.0
input:
  root: SubRootObject
  objects:
    SubRootObject:
      id: SubRootObject
      properties:
        kill_pod_params:
          type: 
            type_id: ref
            id: KillPodConfig
            namespace: $.steps.kill_pod.starting.inputs.input

steps:
  kill_pod:
    step: kill-pods
    plugin:
      deployment_type: python
      src: arcaflow-plugin-kill-pod@git+https://github.com/mfleader/arcaflow-plugin-kill-pod.git@f7894a2308c274a758aba012bc765fdb1f5b7155
    input: !expr $.input.kill_pod_params
    deploy:
      deployer_name: python
      modulePullPolicy: Always
      pythonPath: /home/mleader/.cache/pypoetry/virtualenvs/arcaflow-plugin-kill-pod-2rBSPLV3-py3.9/bin/python
      workdir: /tmp

outputs:
  success: !expr $.steps.kill_pod.outputs.success
